#!/bin/bash

function check-builtin {
  local command="$1" esc='(\[[ -?]*[@-~])*'
  grc --color --exclude=./test "(^|[^/])\b$command\b" |
    grep -Ev "^$esc([^[:space:]]$esc)+[[:space:]]*#|(\b|$esc)builtin$esc([[:space:]]$esc)+$command(\b|$esc)"
}

# check-builtin echo
# check-builtin printf
# check-builtin eval

function check-bash300bug {
  # bash-3.0 „Åß„ÅØ local arr=(1 2 3) „Å®„Åô„Çã„Å®
  # local arr='(1 2 3)' „Å®Ëß£Èáà„Åï„Çå„Å¶„Åó„Åæ„ÅÜ„ÄÇ
  grc 'local [a-zA-Z_]+=\('
}

check-bash300bug
